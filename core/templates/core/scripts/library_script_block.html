{% block scripts %}
    <script>
        var tenx_library_naming = ['SCRNA10X', ' ', ' ',  '0000']
        $(document).ready(function() {
            var prev = document.referrer
                if (prev.indexOf("chip") > -1 &&
                        prev.indexOf("detail") > -1 ){
                        var field = document.getElementById("id_chips")
                        var res = prev.split("/");
                        for (var i=0, len=field.options.length; i<len; i++) {
                        opt = field.options[i];
                        if (res[res.length-1] == opt.value) {
                        opt.selected = true
                        document.getElementById('id_chips').onchange();
                        break;
                    }
                }
            }
        });


        $('#add_more').click(function() {
            var form_idx = $('#id_form-TOTAL_FORMS').val();

            if (form_idx != 0) {
                $('#form_set').append('<hr>');
            }

            $('#form_set').append($('#empty_form').html().replace(/__prefix__/g, form_idx));
            $('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
        });
    </script>
{% endblock %}

